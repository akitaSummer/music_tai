<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0,minimum=1.0,user-scalable=no">
    <title>Document</title>
    <link rel="stylesheet" href="css/set.css">
</head>

<body>
    <div class="wrap">
        <div class="top">
            <div class="head d-flex ai-center bg-black">
                <img src="img/logo_new.png" class='logo mx-3'>
                <div class='flex-1 d-flex jc-end ai-center'>
                    <img src="img/sbtn.png" class='search'>
                    <a href="javascript:;" class='mx-3 fs-xxs text-white'>登录</a>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="carousel-wrap">
                <div class="points-wrap"></div>
            </div>
        </div>
        <div class="bottom">
            <div class="d-flex ai-center bg-white">
                <img src="img/logo.png" class='logo ml-3 mr-2'>
                <div class='flex-1 fs-xxs text-black'>
                    <p>上音悦Tai客户端</p>
                    <p>高清视频 新歌打榜 最新MV一览无余</p>
                </div>
                <div class='button px-3 mx-2 text-white'>下载</div>
            </div>
        </div>
    </div>
</body>
<script src="js/tools.js"></script>
<script>
    window.onload = () => {
        //禁止默认行为
        document.addEventListener('touchstart', (ev) => {
            ev = ev || window.event
            ev.preventDefault()
        })

        // rem 适配
        ;
        (() => {
            const styleNode = document.createElement('style')
            const width = document.documentElement.clientWidth / 16
            styleNode.innerHTML = `html{font-size: ${width}px!important}`
            document.head.appendChild(styleNode)
        })()

        const carouselWrap = document.querySelector('.carousel-wrap')
        const pointsWrap = document.querySelector('.carousel-wrap .points-wrap')
        const arr1 = ['img/001.jpg', 'img/002.jpg', 'img/003.jpg', 'img/004.jpg', 'img/005.png', 'img/006.png', 'img/007.jpg', 'img/008.jpg', 'img/009.jpg', 'img/010.jpg']
        const arr2 = ['img/101.jpg', 'img/102.jpg', 'img/103.jpg', 'img/104.jpg', 'img/105.jpg', 'img/106.jpg']
        const arr3 = ['img/201.jpg', 'img/202.jpg', 'img/203.jpg', 'img/204.jpg', 'img/205.jpg', 'img/206.jpg']

        carousel = (arr) => {
            const ulNode = document.createElement('ul')
                // 布局
            if (carouselWrap) {
                const styleNode = document.createElement('style')
                ulNode.classList.add('list')
                    // ulNode.classList.add('clearfix')
                for (let i = 0; i < arr.length; i++) {
                    ulNode.innerHTML += `<li><a href="javascript:;"><img src="${arr[i]}"></a></li>`
                }
                styleNode.innerHTML += `.carousel-wrap .list li{width: ${1/arr.length*100}%;} .carousel-wrap .list{width: ${arr.length}00%}`
                carouselWrap.appendChild(ulNode)
                document.head.appendChild(styleNode)

                const imgNodes = document.querySelector('.carousel-wrap .list li img')
                setTimeout(() => {
                    carouselWrap.style.height = imgNodes.offsetHeight + "px"
                }, 100)
            }

            if (pointsWrap) {
                for (let i = 0; i < arr1.length; i++) {
                    if (i === 0) {
                        pointsWrap.innerHTML += `<span class="active"></span>`
                    } else {
                        pointsWrap.innerHTML += `<span></span>`
                    }
                }
                const pointsSpan = document.querySelector('.carousel-wrap .points-wrap span')
            }
        }

        carousel(arr1)
    }
</script>

</html>